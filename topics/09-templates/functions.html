<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Template Functions - COS110 OOP Study Website</title>
    <link rel="stylesheet" href="../../css/style.css">
</head>
<body>
    <nav class="navbar">
        <a href="../../index.html" class="navbar-brand">üìö COS110 OOP</a>
        <div class="navbar-search"><input type="text" placeholder="Search topics..."></div>
    </nav>

    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-title">üìå Foundations</div>
            <a href="../01-pointers/part1.html" class="sidebar-item">Pointers Part 1</a>
            <a href="../01-pointers/part2.html" class="sidebar-item">Pointers Part 2</a>

            <div class="sidebar-title">üèóÔ∏è Classes & Objects</div>
            <a href="../02-classes/basics.html" class="sidebar-item">Classes Basics</a>
            <a href="../02-classes/advanced.html" class="sidebar-item">Classes Advanced</a>
            <a href="../02-classes/more.html" class="sidebar-item">Classes More</a>

            <div class="sidebar-title">üîß Constructors</div>
            <a href="../03-copy-constructors.html" class="sidebar-item">Copy Constructors</a>
            <a href="../04-assignment-operator.html" class="sidebar-item">Assignment Operator</a>

            <div class="sidebar-title">‚ûï Operators</div>
            <a href="../05-operator-overloading/basics.html" class="sidebar-item">Overloading Basics</a>
            <a href="../05-operator-overloading/friends.html" class="sidebar-item">Friends</a>
            <a href="../05-operator-overloading/references.html" class="sidebar-item">References/IO</a>
            <a href="../05-operator-overloading/increment.html" class="sidebar-item">Inc/Dec/Subscript</a>

            <div class="sidebar-title">‚ö†Ô∏è Exception Handling</div>
            <a href="../06-exception-handling/basics.html" class="sidebar-item">Basics</a>
            <a href="../06-exception-handling/hierarchies.html" class="sidebar-item">Hierarchies</a>

            <div class="sidebar-title">üë®‚Äçüëß Inheritance</div>
            <a href="../07-inheritance/basics.html" class="sidebar-item">Basics</a>
            <a href="../07-inheritance/redefining.html" class="sidebar-item">Redefining</a>
            <a href="../07-inheritance/aggregation.html" class="sidebar-item">Aggregation</a>

            <div class="sidebar-title">üîÑ Polymorphism</div>
            <a href="../08-polymorphism/virtual-functions.html" class="sidebar-item">Virtual Functions</a>
            <a href="../08-polymorphism/pointers.html" class="sidebar-item">Pointers</a>

            <div class="sidebar-title">üé® Templates</div>
            <a href="classes.html" class="sidebar-item">Classes</a>
            <a href="functions.html" class="sidebar-item">Functions</a>

            <div class="sidebar-title">üìä Data Structures</div>
            <a href="../10-data-structures/linked-lists.html" class="sidebar-item">Linked Lists</a>
            <a href="../10-data-structures/doubly-linked.html" class="sidebar-item">Doubly Linked</a>
            <a href="../10-data-structures/circular-lists.html" class="sidebar-item">Circular Lists</a>
            <a href="../10-data-structures/stacks.html" class="sidebar-item">Stacks</a>
            <a href="../10-data-structures/queues.html" class="sidebar-item">Queues</a>
            <a href="../10-data-structures/stl.html" class="sidebar-item">STL</a>
        </aside>

        <main class="main-content">
            <h1>‚öôÔ∏è Template Functions - Generic Algorithms</h1>

            <section class="section">
                <div class="section-title">üìö Explanation</div>
                <div class="explanation">
                    <h3 style="color: var(--primary);">Function Templates</h3>
                    <p>Function templates allow you to write functions that work with any data type. Instead of overloading swap() for int, double, string, etc., you write one template that generates them all. The compiler deduces template arguments from function call parameters automatically.</p>

                    <h3 style="color: var(--primary); margin-top: 20px;">Template Argument Deduction</h3>
                    <p>When you call swap(a, b), the compiler deduces T from the argument types. If arguments don't match, deduction fails and the compiler reports an error. You can also explicitly specify template arguments: swap<int>(a, b), though automatic deduction is usually preferred.</p>

                    <h3 style="color: var(--primary); margin-top: 20px;">Generic Algorithms</h3>
                    <p>Template functions enable writing generic algorithms. Functions like max(), min(), sort() work with any comparable type. This is the basis of the Standard Template Library (STL). Generic algorithms reduce code duplication and improve maintainability.</p>

                    <h3 style="color: var(--primary); margin-top: 20px;">Constraints and Specialization</h3>
                    <p>Template functions work best with types that support required operations. If a template needs operator<, it will fail for types that don't have it. You can provide specialized versions for specific types: template<> void swap<bool>(bool&, bool&).</p>

                    <h3 style="color: var(--primary); margin-top: 20px;">Overloading and Resolution</h3>
                    <p>Template functions can be overloaded with each other and with regular functions. Overload resolution prefers non-template functions when possible. You can have multiple templates with different signatures, and the compiler chooses the best match.</p>
                </div>
            </section>

            <section class="section">
                <div class="section-title">üíª Code Examples</div>

                <div class="code-example">
                    <div class="code-tabs">
                        <button class="code-tab active" data-tab="simple1">Simple Function Template</button>
                        <button class="code-tab" data-tab="full1">Full Program</button>
                    </div>
                    <div data-tab-content="simple1" class="code-editor">
template<typename T>
void swap(T& a, T& b) {
    T temp = a;
    a = b;
    b = temp;
}

int x = 5, y = 10;
swap(x, y);
cout << x << " " << y << endl;  // 10 5

string s1 = "hello", s2 = "world";
swap(s1, s2);
cout << s1 << " " << s2 << endl;  // world hello
                    </div>
                    <div data-tab-content="full1" style="display: none;">
                        <textarea class="code-editor" id="code1">#include <iostream>
#include <string>
using namespace std;

template<typename T>
void swap(T& a, T& b) {
    cout << "Swapping " << a << " and " 
         << b << endl;
    T temp = a;
    a = b;
    b = temp;
    cout << "Result: " << a << " and " 
         << b << endl;
}

template<typename T>
T maximum(T a, T b) {
    return (a > b) ? a : b;
}

template<typename T>
T minimum(T a, T b) {
    return (a < b) ? a : b;
}

int main() {
    cout << "=== Integers ===" << endl;
    int x = 5, y = 10;
    swap(x, y);
    cout << "Max: " << maximum(x, y) << endl;
    cout << "Min: " << minimum(x, y) << endl;
    
    cout << "\n=== Doubles ===" << endl;
    double a = 3.14, b = 2.71;
    swap(a, b);
    cout << "Max: " << maximum(a, b) << endl;
    
    cout << "\n=== Strings ===" << endl;
    string s1 = "hello", s2 = "world";
    swap(s1, s2);
    cout << "Max: " << maximum(s1, s2) << endl;
    
    return 0;
}
                        </textarea>
                    </div>
                    <div class="code-buttons">
                        <button class="btn btn-primary" onclick="runCode(document.getElementById('code1'), document.getElementById('output1'))">‚ñ∂ Run Code</button>
                    </div>
                    <div class="output-box" id="output1">Click "Run Code" to execute...</div>
                </div>

                <div class="code-example">
                    <div class="code-tabs">
                        <button class="code-tab active" data-tab="simple2">Multiple Parameters</button>
                        <button class="code-tab" data-tab="full2">Full Program</button>
                    </div>
                    <div data-tab-content="simple2" class="code-editor">
template<typename T, typename U>
void print(T val1, U val2) {
    cout << "First: " << val1 << ", Second: " 
         << val2 << endl;
}

print(42, "hello");      // int, string
print(3.14, true);       // double, bool
print("C++", 2024);      // string, int
                    </div>
                    <div data-tab-content="full2" style="display: none;">
                        <textarea class="code-editor" id="code2">#include <iostream>
#include <string>
using namespace std;

template<typename T, typename U>
U convert(T value) {
    return static_cast<U>(value);
}

template<typename T, typename U>
void printPair(T first, U second) {
    cout << "Pair: (" << first << ", " 
         << second << ")" << endl;
}

template<typename T, typename U, typename V>
V combine(T a, U b) {
    return static_cast<V>(a + b);
}

int main() {
    cout << "=== Type Conversions ===" << endl;
    int intVal = 42;
    double dblVal = convert<int, double>(intVal);
    cout << "Int to Double: " << dblVal << endl;
    
    cout << "\n=== Pairs ===" << endl;
    printPair(10, "hello");
    printPair(3.14, 42);
    printPair("C++", 2024);
    
    cout << "\n=== Combining ===" << endl;
    int result = combine<int, int, int>(5, 3);
    cout << "Combined: " << result << endl;
    
    double dresult = combine<double, double, double>(2.5, 1.5);
    cout << "Combined: " << dresult << endl;
    
    return 0;
}
                        </textarea>
                    </div>
                    <div class="code-buttons">
                        <button class="btn btn-primary" onclick="runCode(document.getElementById('code2'), document.getElementById('output2'))">‚ñ∂ Run Code</button>
                    </div>
                    <div class="output-box" id="output2">Click "Run Code" to execute...</div>
                </div>

                <div class="code-example">
                    <div class="code-tabs">
                        <button class="code-tab active" data-tab="simple3">Generic Algorithms</button>
                        <button class="code-tab" data-tab="full3">Full Program</button>
                    </div>
                    <div data-tab-content="simple3" class="code-editor">
template<typename T>
int linearSearch(T arr[], int size, T key) {
    for(int i = 0; i < size; i++) {
        if(arr[i] == key) return i;
    }
    return -1;
}

int arr[] = {10, 20, 30, 40, 50};
cout << linearSearch(arr, 5, 30) << endl;  // 2

string strs[] = {"a", "b", "c"};
cout << linearSearch(strs, 3, "b") << endl;  // 1
                    </div>
                    <div data-tab-content="full3" style="display: none;">
                        <textarea class="code-editor" id="code3">#include <iostream>
#include <string>
using namespace std;

template<typename T>
int linearSearch(T arr[], int size, T key) {
    for(int i = 0; i < size; i++) {
        if(arr[i] == key) return i;
    }
    return -1;
}

template<typename T>
void reverseArray(T arr[], int size) {
    for(int i = 0; i < size / 2; i++) {
        T temp = arr[i];
        arr[i] = arr[size - 1 - i];
        arr[size - 1 - i] = temp;
    }
}

template<typename T>
void printArray(T arr[], int size) {
    for(int i = 0; i < size; i++) {
        cout << arr[i] << " ";
    }
    cout << endl;
}

int main() {
    cout << "=== Integer Array ===" << endl;
    int intArr[] = {10, 20, 30, 40, 50};
    printArray(intArr, 5);
    
    int pos = linearSearch(intArr, 5, 30);
    cout << "Found 30 at: " << pos << endl;
    
    reverseArray(intArr, 5);
    cout << "Reversed: ";
    printArray(intArr, 5);
    
    cout << "\n=== String Array ===" << endl;
    string strArr[] = {"apple", "banana", 
                       "cherry", "date"};
    printArray(strArr, 4);
    
    pos = linearSearch(strArr, 4, "cherry");
    cout << "Found cherry at: " << pos << endl;
    
    reverseArray(strArr, 4);
    cout << "Reversed: ";
    printArray(strArr, 4);
    
    return 0;
}
                        </textarea>
                    </div>
                    <div class="code-buttons">
                        <button class="btn btn-primary" onclick="runCode(document.getElementById('code3'), document.getElementById('output3'))">‚ñ∂ Run Code</button>
                    </div>
                    <div class="output-box" id="output3">Click "Run Code" to execute...</div>
                </div>
            </section>

            <section class="section">
                <div class="section-title">‚úçÔ∏è Coding Activities</div>

                <div class="activity">
                    <div class="activity-title">‚ö° Intermediate Challenge: Generic Sorting</div>
                    <p>Implement bubble sort as a template function working with any comparable type.</p>
                    <button class="btn btn-secondary" onclick="downloadCode(\`#include <iostream>
using namespace std;

template<typename T>
void bubbleSort(T arr[], int size) {
    // TODO: Implement bubble sort
    // Use T's operator< for comparisons
}

template<typename T>
void print(T arr[], int size) {
    for(int i = 0; i < size; i++) {
        cout << arr[i] << \" \";
    }
    cout << endl;
}

int main() {
    int arr[] = {5, 2, 8, 1, 9};
    bubbleSort(arr, 5);
    print(arr, 5);
    return 0;
}\`, 'generic_sort.cpp')">‚¨á Download Skeleton</button>
                    <button class="collapsible">‚ñº Show Solution</button>
                    <div class="collapsible-content">
                        <div class="code-editor">
#include <iostream>
#include <string>
using namespace std;

template<typename T>
void bubbleSort(T arr[], int size) {
    for(int i = 0; i < size - 1; i++) {
        for(int j = 0; j < size - i - 1; j++) {
            if(arr[j] > arr[j + 1]) {
                T temp = arr[j];
                arr[j] = arr[j + 1];
                arr[j + 1] = temp;
            }
        }
    }
}

template<typename T>
void print(T arr[], int size) {
    for(int i = 0; i < size; i++) {
        cout << arr[i] << " ";
    }
    cout << endl;
}

int main() {
    cout << "=== Integer Sort ===" << endl;
    int intArr[] = {5, 2, 8, 1, 9, 3};
    cout << "Before: ";
    print(intArr, 6);
    bubbleSort(intArr, 6);
    cout << "After:  ";
    print(intArr, 6);
    
    cout << "\n=== Double Sort ===" << endl;
    double dblArr[] = {3.14, 1.41, 2.71, 1.73};
    cout << "Before: ";
    print(dblArr, 4);
    bubbleSort(dblArr, 4);
    cout << "After:  ";
    print(dblArr, 4);
    
    cout << "\n=== String Sort ===" << endl;
    string strArr[] = {"zebra", "apple", 
                       "mango", "banana"};
    cout << "Before: ";
    print(strArr, 4);
    bubbleSort(strArr, 4);
    cout << "After:  ";
    print(strArr, 4);
    
    return 0;
}
                        </div>
                    </div>
                </div>

                <div class="activity">
                    <div class="activity-title">üî• Advanced Challenge: Generic Min/Max with Comparators</div>
                    <p>Create template functions for finding min/max with custom comparison functions.</p>
                    <button class="btn btn-secondary" onclick="downloadCode(\`#include <iostream>
#include <string>
using namespace std;

template<typename T>
T findMin(T arr[], int size) {
    T min = arr[0];
    for(int i = 1; i < size; i++) {
        if(arr[i] < min) min = arr[i];
    }
    return min;
}

template<typename T>
T findMax(T arr[], int size) {
    T max = arr[0];
    for(int i = 1; i < size; i++) {
        if(arr[i] > max) max = arr[i];
    }
    return max;
}

int main() {
    // TODO: Test with integers
    // TODO: Test with doubles
    // TODO: Test with strings
    return 0;
}\`, 'generic_minmax.cpp')">‚¨á Download Skeleton</button>
                    <button class="collapsible">‚ñº Show Solution</button>
                    <div class="collapsible-content">
                        <div class="code-editor">
#include <iostream>
#include <string>
#include <cmath>
using namespace std;

template<typename T>
T findMin(T arr[], int size) {
    T min = arr[0];
    for(int i = 1; i < size; i++) {
        if(arr[i] < min) min = arr[i];
    }
    return min;
}

template<typename T>
T findMax(T arr[], int size) {
    T max = arr[0];
    for(int i = 1; i < size; i++) {
        if(arr[i] > max) max = arr[i];
    }
    return max;
}

template<typename T>
T findAbsMin(T arr[], int size) {
    T min = arr[0];
    for(int i = 1; i < size; i++) {
        if(abs(arr[i]) < abs(min)) 
            min = arr[i];
    }
    return min;
}

int main() {
    cout << "=== Integers ===" << endl;
    int intArr[] = {5, 2, 8, 1, 9};
    cout << "Array: ";
    for(int i = 0; i < 5; i++) 
        cout << intArr[i] << " ";
    cout << endl;
    cout << "Min: " << findMin(intArr, 5) << endl;
    cout << "Max: " << findMax(intArr, 5) << endl;
    
    cout << "\n=== Doubles ===" << endl;
    double dblArr[] = {3.14, -1.41, 2.71, -0.5};
    cout << "Array: ";
    for(int i = 0; i < 4; i++) 
        cout << dblArr[i] << " ";
    cout << endl;
    cout << "Min: " << findMin(dblArr, 4) << endl;
    cout << "Max: " << findMax(dblArr, 4) << endl;
    cout << "Min Abs: " << findAbsMin(dblArr, 4) 
         << endl;
    
    cout << "\n=== Strings ===" << endl;
    string strArr[] = {"apple", "zebra", "mango"};
    cout << "Array: ";
    for(int i = 0; i < 3; i++) 
        cout << strArr[i] << " ";
    cout << endl;
    cout << "Min: " << findMin(strArr, 3) << endl;
    cout << "Max: " << findMax(strArr, 3) << endl;
    
    return 0;
}
                        </div>
                    </div>
                </div>
            </section>

            <section class="section">
                <div class="section-title">üìù Knowledge Check Quiz</div>
                <div class="quiz-container">
                    <button class="quiz-btn" onclick="initializeQuiz()">‚ñ∂ Start Quiz</button>
                </div>
            </section>
        </main>
    </div>

    <footer><p>COS110 OOP Study Website | November 2025</p></footer>

    <script src="../../js/main.js"></script>
    <script src="../../js/compiler.js"></script>
    <script src="../../js/quiz.js"></script>

    <script>
        function initializeQuiz() {
            const questions = [
                {type: 'multiple-choice', question: 'Function templates enable:', options: ['Type safety', 'Generic functions', 'Code reuse', 'All above'], correctAnswer: 'D', explanation: 'Templates provide all these benefits.'},
                {type: 'true-false', question: 'Compiler deduces template arguments.', correctAnswer: 'true', explanation: 'Yes, automatic deduction from function arguments.'},
                {type: 'fill-in', question: 'Function template:', context: '<span style="color: red;">_______</span><typename T> void func(T val)', hint: 'template', acceptableAnswers: ['template', 'template '], explanation: 'Use template keyword to declare function templates.'},
                {type: 'true-false', question: 'Can explicitly specify template arguments.', correctAnswer: 'true', explanation: 'Yes, but automatic deduction is preferred.'},
                {type: 'multiple-choice', question: 'Template argument deduction fails when:', options: ['Types mismatch', 'No argument', 'Ambiguous', 'All above'], correctAnswer: 'D', explanation: 'Deduction fails in various situations.'},
                {type: 'fill-in', question: 'Explicit template specification:', context: 'func<span style="color: red;">_______</span>int<span style="color: red;">_______</span>(x);', hint: '<< >>',acceptableAnswers: ['<', '>'], explanation: 'Use angle brackets for explicit specification.'},
                {type: 'true-false', question: 'Generic algorithms reduce code duplication.', correctAnswer: 'true', explanation: 'Yes, one function works for all types.'},
                {type: 'multiple-choice', question: 'Template function requirements:', options: ['No constraints', 'Type needs operations', 'All types work', 'None'], correctAnswer: 'B', explanation: 'Type must support required operations.'},
                {type: 'true-false', question: 'Can overload template functions.', correctAnswer: 'true', explanation: 'Yes, with each other and regular functions.'},
                {type: 'fill-in', question: 'Multiple template parameters:', context: 'template<typename T, <span style="color: red;">_______</span> U>', hint: 'typename', acceptableAnswers: ['typename', 'typename '], explanation: 'Each parameter needs typename keyword.'},
                {type: 'true-false', question: 'Template specialization available.', correctAnswer: 'true', explanation: 'Yes, can provide specific implementations.'},
                {type: 'multiple-choice', question: 'Function templates located:', options: ['Header', 'Implementation file', 'Header or explicit inst', 'Anywhere'], correctAnswer: 'C', explanation: 'Templates go in headers for implicit instantiation.'},
                {type: 'true-false', question: 'Compiler generates code for each instantiation.', correctAnswer: 'true', explanation: 'Yes, separate code for each type used.'},
                {type: 'multiple-choice', question: 'Return type deduction:', options: ['Automatic', 'Must specify', 'Optional', 'Forbidden'], correctAnswer: 'B', explanation: 'Return type usually specified explicitly.'},
                {type: 'fill-in', question: 'Generic swap function:', context: 'template<typename T> void swap(T& a, T& <span style="color: red;">_______</span>)', hint: 'b', acceptableAnswers: ['b', 'b)'], explanation: 'Takes references to avoid copying.'},
                {type: 'true-false', question: 'Template functions must use references.', correctAnswer: 'false', explanation: 'Can use values, references, or pointers.'},
                {type: 'multiple-choice', question: 'STL algorithms use:', options: ['Regular functions', 'Template functions', 'Classes only', 'Macros'], correctAnswer: 'B', explanation: 'STL algorithms are template functions.'},
                {type: 'true-false', question: 'Type T can be any type.', correctAnswer: 'true', explanation: 'Yes, built-in or user-defined types.'},
                {type: 'multiple-choice', question: 'Template function call:', options: ['func<int>(x)', 'func(x)', 'Both', 'Neither'], correctAnswer: 'C', explanation: 'Both explicit and implicit calls work.'},
                {type: 'true-false', question: 'Template enables compile-time polymorphism.', correctAnswer: 'true', explanation: 'Yes, templates are compile-time generic code.'}
            ];

            window.quizSystem = new QuizSystem('Template Functions', questions);
            openQuizModal();
        }

        if (!document.getElementById('quizModal')) {
            const modal = document.createElement('div');
            modal.id = 'quizModal';
            modal.className = 'quiz-modal';
            modal.innerHTML = `<div class="quiz-modal-content"><div class="quiz-header"><div><div class="quiz-question-number">Quiz: Template Functions</div><div class="quiz-progress">Question 1 of 20</div></div><button class="quiz-close" onclick="closeQuizModal()">‚úï</button></div><div class="quiz-questions-container"></div></div>`;
            document.body.appendChild(modal);
        }
    </script>
</body>
</html>